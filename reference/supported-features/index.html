<!DOCTYPE html>
<html lang="en">
  <head>
    <title>jspicl - Supported Features</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="JavaScript features supported by jspicl. Includes polyfills for arrays, strings, objects, and Math methods.">
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link href="/assets/css/main.css" rel="stylesheet" />
    <link href="/assets/css/code-theme.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400&family=Raleway:wght@300;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <input id="hamburger" name="hamburger" type="checkbox">
    <header class="top-nav">
      <a href="/" class="logo">
          <img src="/assets/images/logo-366x250.png" alt="jspicl" class="logo-image" />
          <span class="logo-text">jspicl</span>
        </a>
      <div class="top-nav-inner">
        <div class="search-container">
          <input type="text" id="search-input" placeholder="Search docs..." autocomplete="off" />
          <div id="search-results" class="search-results"></div>
        </div>
        <nav class="top-nav-links"><a href="https://github.com/jspicl/jspicl" target="_blank" rel="noopener noreferrer">
          
            <img src="/assets/images/github-white.svg" width="16" />
          
          </a></nav>

        <label class="hamburger-label" for="hamburger">
          <div class="hamburger-icon"></div>
        </label>
      </div>
    </header>
    
<div class="post">
  <aside class="sidebar">
    <nav class="sidebar-nav"><div class="nav-section">
        <div class="nav-section-header">Getting Started</div>
        <div class="nav-section-items"><a href="/"
             class="nav-item">
            Introduction
          </a><a href="/basic-guides/getting-started/"
             class="nav-item">
            Getting Started
          </a></div>
      </div><div class="nav-section">
        <div class="nav-section-header">Advanced Guides</div>
        <div class="nav-section-items"><a href="/advanced-guides/using-api/"
             class="nav-item">
            Using the API
          </a><a href="/advanced-guides/customized-transpilation/"
             class="nav-item">
            Customized Transpilation
          </a></div>
      </div><div class="nav-section">
        <div class="nav-section-header">Examples & Migration</div>
        <div class="nav-section-items"><a href="/example-projects/"
             class="nav-item">
            Example Projects
          </a><a href="/migration-guide/"
             class="nav-item">
            Migration Guide
          </a><a href="/troubleshooting/"
             class="nav-item">
            Troubleshooting
          </a></div>
      </div><div class="nav-section">
        <div class="nav-section-header">Recipes</div>
        <div class="nav-section-items"><a href="/recipes/debugging-with-printh/"
             class="nav-item">
            Debugging with printh
          </a><a href="/recipes/cartdata-hot-reload/"
             class="nav-item">
            Cartdata with Hot Reload
          </a><a href="/recipes/polyfill-transform/"
             class="nav-item">
            Custom Polyfill Transforms
          </a></div>
      </div><div class="nav-section">
        <div class="nav-section-header">Reference</div>
        <div class="nav-section-items"><a href="/reference/api/"
             class="nav-item">
            API Reference
          </a><a href="/reference/cli/"
             class="nav-item">
            CLI Reference
          </a><a href="/reference/supported-features/"
             class="nav-item active">
            Supported Features
          </a></div>
      </div></nav>
  </aside>
  <main class="content"><h1>Supported Features</h1>
<p>This page lists the JavaScript features that jspicl supports and how they're transpiled to PICO-8 Lua.</p>
<h2>Language Features</h2>
<h3>Variables</h3>
<table>
<thead>
<tr>
<th>JavaScript</th>
<th>Lua</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>let x = 1</code></td>
<td><code>local x = 1</code></td>
</tr>
<tr>
<td><code>const y = 2</code></td>
<td><code>local y = 2</code></td>
</tr>
<tr>
<td><code>var z = 3</code></td>
<td><code>z = 3</code> (global)</td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token string">"hello "</span> <span class="token operator">+</span> name<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> a <span class="token operator">+</span> b<span class="token punctuation">;</span></code></pre>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><br>  <span class="token keyword">return</span> <span class="token string">"hello "</span> <span class="token operator">..</span> name<br><span class="token keyword">end</span><br><br><span class="token keyword">local</span> add <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><br>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<br><span class="token keyword">end</span></code></pre>
<h3>Control Flow</h3>
<p>All standard control flow is supported:</p>
<ul>
<li><code>if</code> / <code>else if</code> / <code>else</code></li>
<li><code>for</code> loops (standard, for...of)</li>
<li><code>while</code> loops</li>
<li><code>switch</code> statements (transpiled to if/elseif chains)</li>
</ul>
<h3>Operators</h3>
<table>
<thead>
<tr>
<th>JavaScript</th>
<th>Lua</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code> (strings)</td>
<td><code>..</code></td>
<td>String concatenation</td>
</tr>
<tr>
<td><code>===</code>, <code>!==</code></td>
<td><code>==</code>, <code>~=</code></td>
<td>Equality</td>
</tr>
<tr>
<td><code>&amp;&amp;</code>, <code>||</code></td>
<td><code>and</code>, <code>or</code></td>
<td>Logical</td>
</tr>
<tr>
<td><code>!</code></td>
<td><code>not</code></td>
<td>Negation</td>
</tr>
<tr>
<td><code>%</code></td>
<td><code>%</code></td>
<td>Modulo</td>
</tr>
<tr>
<td><code>**</code></td>
<td><code>^</code></td>
<td>Exponentiation</td>
</tr>
</tbody>
</table>
<h3>Destructuring</h3>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span> <span class="token operator">=</span> position<span class="token punctuation">;</span><br><span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">]</span> <span class="token operator">=</span> items<span class="token punctuation">;</span></code></pre>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> x <span class="token operator">=</span> position<span class="token punctuation">.</span>x<br><span class="token keyword">local</span> y <span class="token operator">=</span> position<span class="token punctuation">.</span>y<br><span class="token keyword">local</span> first <span class="token operator">=</span> items<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><br><span class="token keyword">local</span> second <span class="token operator">=</span> items<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span></code></pre>
<h2>Polyfills</h2>
<p>When you use JavaScript methods that don't exist in Lua, jspicl provides polyfill implementations. These are returned separately in the <code>polyfills</code> object.</p>
<h3>Array Methods</h3>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>arr.map(fn)</code></td>
<td>Transform each element</td>
</tr>
<tr>
<td><code>arr.filter(fn)</code></td>
<td>Keep elements matching predicate</td>
</tr>
<tr>
<td><code>arr.reduce(fn, init)</code></td>
<td>Reduce to single value</td>
</tr>
<tr>
<td><code>arr.forEach(fn)</code></td>
<td>Iterate without returning</td>
</tr>
<tr>
<td><code>arr.includes(val)</code></td>
<td>Check if value exists</td>
</tr>
<tr>
<td><code>arr.findIndex(fn)</code></td>
<td>Find index of matching element</td>
</tr>
<tr>
<td><code>arr.join(sep)</code></td>
<td>Join elements into string</td>
</tr>
<tr>
<td><code>arr.push(val)</code></td>
<td>Add element to end</td>
</tr>
<tr>
<td><code>arr.pop()</code></td>
<td>Remove and return last element</td>
</tr>
<tr>
<td><code>arr.sort(fn)</code></td>
<td>Sort elements (in-place)</td>
</tr>
<tr>
<td><code>arr.length</code></td>
<td>Get array length (via <code>#arr</code>)</td>
</tr>
</tbody>
</table>
<h3>String Methods</h3>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>str.split(sep)</code></td>
<td>Split into array</td>
</tr>
<tr>
<td><code>str.substr(start, len)</code></td>
<td>Extract substring by length</td>
</tr>
<tr>
<td><code>str.substring(start, end)</code></td>
<td>Extract substring by indices</td>
</tr>
<tr>
<td><code>str.toString()</code></td>
<td>Convert to string</td>
</tr>
<tr>
<td><code>String.fromCharCode(n)</code></td>
<td>Character from code (uses <code>chr()</code>)</td>
</tr>
</tbody>
</table>
<h3>Object Methods</h3>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Object.assign(target, source)</code></td>
<td>Merge objects</td>
</tr>
<tr>
<td><code>Object.keys(obj)</code></td>
<td>Get array of keys</td>
</tr>
<tr>
<td><code>Object.values(obj)</code></td>
<td>Get array of values</td>
</tr>
<tr>
<td><code>Object.entries(obj)</code></td>
<td>Get array of [key, value] pairs</td>
</tr>
</tbody>
</table>
<h3>Math Methods</h3>
<p>These map directly to Lua/PICO-8 equivalents:</p>
<table>
<thead>
<tr>
<th>JavaScript</th>
<th>PICO-8</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Math.abs(x)</code></td>
<td><code>abs(x)</code></td>
</tr>
<tr>
<td><code>Math.floor(x)</code></td>
<td><code>flr(x)</code></td>
</tr>
<tr>
<td><code>Math.ceil(x)</code></td>
<td><code>ceil(x)</code></td>
</tr>
<tr>
<td><code>Math.min(a, b)</code></td>
<td><code>min(a, b)</code></td>
</tr>
<tr>
<td><code>Math.max(a, b)</code></td>
<td><code>max(a, b)</code></td>
</tr>
<tr>
<td><code>Math.sqrt(x)</code></td>
<td><code>sqrt(x)</code></td>
</tr>
<tr>
<td><code>Math.sin(x)</code></td>
<td><code>sin(x)</code></td>
</tr>
<tr>
<td><code>Math.random()</code></td>
<td><code>rnd()</code></td>
</tr>
</tbody>
</table>
<h3>Console</h3>
<table>
<thead>
<tr>
<th>JavaScript</th>
<th>PICO-8</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>console.log(msg)</code></td>
<td><code>printh(msg)</code></td>
</tr>
</tbody>
</table>
<h2>Using Polyfills</h2>
<p>Polyfills are returned in the <code>polyfills</code> object:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span>code<span class="token punctuation">,</span> polyfills<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">jspicl</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Combine polyfills with your code</span><br><span class="token keyword">const</span> finalCode <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>polyfills<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token operator">+</span> code<span class="token punctuation">;</span></code></pre>
<p>When using the CLI, polyfills are automatically included in the cartridge.</p>
<h2>Unsupported Features</h2>
<p>The following JavaScript features are <strong>not supported</strong>:</p>
<ul>
<li><code>async</code> / <code>await</code></li>
<li>Generators (<code>function*</code>)</li>
<li>Classes (use plain objects and functions)</li>
<li><code>try</code> / <code>catch</code> / <code>finally</code></li>
<li>Regular expressions</li>
<li><code>typeof</code>, <code>instanceof</code></li>
<li>Spread operator in some contexts</li>
</ul>
<h2>Array Indexing</h2>
<p><strong>Important:</strong> Lua arrays are 1-indexed, JavaScript arrays are 0-indexed.</p>
<p>jspicl does <strong>not</strong> automatically convert indices. You need to account for this in your code:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// JavaScript (0-indexed)</span><br><span class="token keyword">const</span> first <span class="token operator">=</span> items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token comment">// In PICO-8 Lua, this will be items[0], which returns nil</span><br><span class="token comment">// Use 1-indexed access in your JavaScript:</span><br><span class="token keyword">const</span> first <span class="token operator">=</span> items<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token comment">// Same for loops:</span><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// ...</span><br><span class="token punctuation">}</span></code></pre>
</main>
</div>

    <script>
      const searchData = [{
          title: "Introduction",
          url: "/",
          content: "Welcome to the jspicl documentation jspicl is a JavaScript to PICO-8 Lua transpiler. It enables you to develop PICO-8 games in JavaScript by creating an AST out of the JavaScript code and then transpiling it down to the Lua subset that PICO-8 supports. Choose Your Path @jspicl/cli Ready-to-use tool for PICO-8 game development. Handles bundling, transpiling, and cartridge generation. Use PNG spritesheets with your favorite image editor. Includes hot reload for rapid iteration. @jspicl/core The..."
        },{
          title: "Getting Started",
          url: "/basic-guides/getting-started/",
          content: "Getting Started The jspicl CLI streamlines your PICO-8 game development by taking care of the build process so you can focus on the implementation. Features: Built-in build pipeline powered by esbuild Tree-shaking to minimize token count PNG spritesheet support - use your favorite image editor Live reloading with watch mode Installation npm install -D @jspicl/cli Usage First, create a config file: // jspicl.config.ts import type { Config } from \"@jspicl/cli/types\" ; const config : Config = ..."
        },{
          title: "Using the API",
          url: "/advanced-guides/using-api/",
          content: "Using the API The API can be used for transpiling JavaScript into the subset of Lua that PICO-8 uses. Installation npm install @jspicl/core Usage import { jspicl } from \"@jspicl/core\" ; const javascriptCode = ` // Your code here ` ; const { code , polyfills } = jspicl ( javascriptCode ) ; console . log ( code ) ; Known limitations Array offsets Lua uses 1-based indexing for arrays which differ from JavaScript's zero-based. Keep this in mind when looping inside for-statements, you will need ..."
        },{
          title: "Customized Transpilation",
          url: "/advanced-guides/customized-transpilation/",
          content: "Customized transpilation jspicl does not support all expressions and statements out of the box but it is extensible enough to allow for these to be added. It also allows existing ones to be replaced if the implementation is considered unsatisfactory. This is done by supplying a customMappers option. The only requirement imposed on the AST node is that it contains a string property called type since this is used to identify the appropriate declaration, expression or statement. import { jspicl ..."
        },{
          title: "Example Projects",
          url: "/example-projects/",
          content: "Example Projects Games and templates built with jspicl. Mario Sample A platformer template with Mario-style mechanics: running, jumping, enemies, and tile-based collision. Megaman Sample Action platformer template with shooting mechanics, enemy AI, and screen transitions. Starter Template Minimal project setup to start building from scratch. Includes config, example game loop, and build scripts. Community Games Have you built something with jspicl? Tag your repository with jspicl-game on GitH..."
        },{
          title: "Migration Guide",
          url: "/migration-guide/",
          content: "Migration Guide Upgrading to v4 Package Names Changed The packages have been renamed to use the @jspicl scope: Old New jspicl @jspicl/core jspicl-cli @jspicl/cli Update your imports: // Before import { jspicl } from \"jspicl\" ; // After import { jspicl } from \"@jspicl/core\" ; CLI Now Requires Config File The CLI no longer accepts all options as command-line arguments. Create a config file instead: # Before jspicl-cli src/game.js game.p8 --spritesheetImagePath sprites.png --watch # After js..."
        },{
          title: "Troubleshooting",
          url: "/troubleshooting/",
          content: "Troubleshooting Array Index Off By One Problem: My array access returns the wrong element. Cause: Lua uses 1-based indexing, JavaScript uses 0-based. // JavaScript - gets first element const first = arr [ 0 ] ; // Generated Lua - still uses 0, but Lua arrays start at 1! local first = arr [ 0 ] -- Returns nil Solution: Explicitly use 1-based indexing in your JavaScript when targeting PICO-8: // Use 1-based indexing const first = arr [ 1 ] ; // Or add 1 to loop indices for ( let i = 1 ; i &lt;=..."
        },{
          title: "Reference - API",
          url: "/reference/api/",
          content: "API Reference Installation npm install @jspicl/core Usage Entry point for transpiling your JavaScript code. function jspicl ( source : string , options ? : Options ) : Output ; source The JavaScript source code to transpile to Lua. Jspicl parses this code, converts it to an AST, and generates equivalent PICO-8 Lua code. options Configuration options that affect the final output. Options type Options = { prettify ? : boolean ; customMappers ? : Record &lt; string , AstNodeVisitor > ; } ; prett..."
        },{
          title: "Reference - CLI",
          url: "/reference/cli/",
          content: "CLI Reference Installation npm install -D @jspicl/cli Usage jspicl &lt; input > &lt; output > --config &lt; config-file > [ --watch ] Example: jspicl src/game.js build/game.p8 --config jspicl.config.ts --watch CLI Options Name Description --config , -c Path to config file (required) --watch , -w Watch for changes and rebuild Config File Create a config file (JavaScript or TypeScript): // jspicl.config.ts import type { Config } from \"@jspicl/cli/types\" ; const config : Config = { spritesheet..."
        },{
          title: "Supported Features",
          url: "/reference/supported-features/",
          content: "Supported Features This page lists the JavaScript features that jspicl supports and how they're transpiled to PICO-8 Lua. Language Features Variables JavaScript Lua let x = 1 local x = 1 const y = 2 local y = 2 var z = 3 z = 3 (global) Functions function greet ( name ) { return \"hello \" + name ; } const add = ( a , b ) => a + b ; function greet ( name ) return \"hello \" .. name end local add = function ( a , b ) return a + b end Control Flow All standard control flow is supported: if / els..."
        },{
          title: "Debugging with printh",
          url: "/recipes/debugging-with-printh/",
          content: "Debugging with printh This recipe shows how to use PICO-8's printh() function to output debug information to your terminal. Setup Enable pipeOutputToConsole in your config: // jspicl.config.ts import type { Config } from \"@jspicl/cli/types\" ; const config : Config = { pipeOutputToConsole : true , spritesheetImagePath : \"assets/sprites.png\" , jsOutput : \"build/game.js\" // ... } ; export default config ; Usage Use printh() anywhere in your game code: function _update ( ) { if ( btn ( 0 ) ..."
        },{
          title: "Cartdata with Hot Reload",
          url: "/recipes/cartdata-hot-reload/",
          content: "Cartdata with Hot Reload This recipe explains how to use your own cartdata() for save data while keeping the CLI's hot reload functionality working. The Problem The CLI uses PICO-8's cartdata() mechanism to signal hot reloads. However, PICO-8 only allows one cartdata() call per cart . If you call cartdata() in your game for saving high scores or progress, you'll get a conflict. Solution Configure the CLI to use the same cartdata ID as your game: // jspicl.config.ts import type { Config } from..."
        },{
          title: "Custom Polyfill Transforms",
          url: "/recipes/polyfill-transform/",
          content: "Custom Polyfill Transforms This recipe shows how to use polyfillTransform to customize the polyfill code generated by jspicl. What are Polyfills? When you use JavaScript methods that don't have direct Lua equivalents (like array.map() , array.filter() , etc.), jspicl generates polyfill functions prefixed with _ (e.g., _map() , _filter() ). These are included in your cartridge automatically. Basic Usage The polyfillTransform function receives a record where keys are polyfill names and values a..."
        }];
    </script>
    <script src="/assets/js/search.js"></script>
  </body>
</html>
